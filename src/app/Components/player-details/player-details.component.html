<div class="main">
  <section class="inner-wrap">
    <div class="row team_detls_outer">
      <div class="col-md-5">
        <img
          [src]="getImageUrl(playerDetails?.profile_pic_without_bg)"
          class="img-fluid"
        />
      </div>
      <div class="col-md-7">
        <div class="team_detls_img mb-5">
          <div>
            <p class="title_head">
              {{ playerDetails?.ign }}
              <span class="watermark">{{ pos }}</span>
            </p>
          </div>
          <div>
            <img
              [src]="getImageUrl(playerDetails?.squad_data[0]?.team__team_logo)"
              style="width: 100px"
            />
          </div>
        </div>
        <div class="team_detls_hdr cust_m-t">
          <div class="text-center gray_clr font_style_ds">
            Matches<br />Recorded<br /><span class="cl_pnk">{{
              playerDetails?.total_matches_recorded
            }}</span>
          </div>
          <div class="text-center gray_clr font_style_ds">
            Position<br />10-8<br /><span class="cl_pnk">{{
              playerDetails?.total_under_top_10
            }}</span>
          </div>
          <div class="text-center gray_clr font_style_ds">
            Position<br />5-7<br /><span class="cl_pnk">{{
              playerDetails?.total_under_top_5
            }}</span>
          </div>
          <div class="text-center gray_clr font_style_ds">
            Position<br />4-6<br /><span class="cl_pnk">{{
              playerDetails?.total_under_top_3
            }}</span>
          </div>
          <div class="text-center gray_clr font_style_ds">
            Position<br />1-3<br /><span class="cl_pnk">
              {{playerDetails?.total_under_top_3}} 
          </span>
          </div>
        </div>
        <div class="brdr mb-5"></div>
        <div class="updn_btn mb-5">
          <div class="text-center txt_flx_btn">
            <button
              class="btn"
              [ngClass]="getUpVoteClass('player', playerDetails?.id)"
              (click)="upVote('player', playerDetails?.id)"
            >
              <img
                src="assets/images/icons/up_red.png"
                style="width: 15px; margin-right: 10px; margin-bottom: 3px"
              />
              <span style="margin-right: 10px">Upvote</span
              >{{ playerDetails?.upvote_score }}
            </button>

            <button
              class="btn"
              [ngClass]="getDownVoteClass('player', playerDetails?.id)"
              (click)="downVote('player', playerDetails?.id)"
            >
              <img
                src="assets/images/icons/down_red.png"
                style="width: 15px; margin-right: 10px"
              />
              <span style="margin-right: 10px">Downvote</span
              >{{ playerDetails?.downvote_score }}
            </button>
          </div>
        </div>
        <div class="tab_outer">
          <div class="container">
            <div class="row">
              <div class="col col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <ul
                  class="widget w-personal-info mt-4"
                  style="list-style-type: none"
                >
                  <li>
                    <span class="title">Full Name</span>
                    <span class="text">{{
                      playerDetails?.name ? playerDetails?.name : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Birthdate </span>
                    <span class="text">{{
                      playerDetails?.birth_date
                        ? playerDetails?.birth_date
                        : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Residence</span>
                    <span class="text">{{
                      playerDetails?.country_info?.name
                        ? playerDetails?.country_info?.name
                        : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Age</span>
                    <span class="text">{{
                      playerDetails?.age ? playerDetails?.age : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Role</span>
                    <span class="text">{{
                      playerDetails?.role ? playerDetails?.role : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Income</span>
                    <span class="text">{{
                      playerDetails?.approximate_income
                        ? playerDetails?.approximate_income
                        : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Bio</span>
                    <span class="text">
                      <p>
                        {{
                          playerDetails?.description
                            ? playerDetails?.description.slice(0, 250)
                            : "&nbsp;"
                        }}
                        <span
                          id="dots"
                          *ngIf="playerDetails?.description.length > 250"
                          >...</span
                        >
                        <span id="more">
                          {{
                            playerDetails?.description
                              ? playerDetails?.description.slice(250)
                              : "&nbsp;"
                          }}</span
                        >
                      </p>
                      <button
                        class="btn shw_mr"
                        (click)="ClicklessMore()"
                        id="BtnlessMore"
                        *ngIf="playerDetails?.description.length > 250"
                      >
                        Show more
                      </button>
                    </span>
                  </li>
                  <li>
                    <span class="title">Active Since</span>
                    <span class="text">{{
                      playerDetails?.active_since
                        ? playerDetails?.active_since
                        : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Platform</span>
                    <span class="text">{{
                      playerDetails?.platform
                        ? playerDetails?.platform
                        : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Height</span>
                    <span class="text">{{
                      playerDetails?.height ? playerDetails?.height : "&nbsp;"
                    }}</span>
                  </li>
                  <li>
                    <span class="title">Platform</span>
                    <span class="text" *ngIf="playerDetails?.youtube_subscriber_count !== null && playerDetails?.youtube_subscriber_count !== '0'; else insta"
                      ><img
                        src="assets/images/icons/youtube_red.png"
                        class="plt_img"
                      />
                      {{playerDetails?.youtube_subscriber_count}}
                    </span>
                  <li *ngIf="playerDetails?.youtube_subscriber_count !== null && playerDetails?.youtube_subscriber_count !== '0'">
                    <span class="title">&nbsp;</span>
                    <ng-container *ngTemplateOutlet="insta"></ng-container>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<ng-template #insta>
  <span class="text"  *ngIf="playerDetails?.instagram_followers_count && playerDetails?.instagram_followers_count > 0">
    <img
      src="assets/images/icons/instagram_red.png"
      style="
        width: 26px;
        margin-left: 6 px;
        margin-right: 16px;
      "
    />
    {{playerDetails?.instagram_followers_count}}
  </span>
</ng-template>
<app-login-popup #loginPopup (loadDataEvent)="loadData()"></app-login-popup>
